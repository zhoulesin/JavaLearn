# Java对象生命周期

## 1创建阶段created

- 为对象分配存储空间

- 开始构造对象

- 从父类到子类对static成员进行初始化

- 父类成员变量按照顺序初始化,递归调用父类的构造方法

- 子类成员变量按照顺序初始化,子类构造方法调用

  一旦对象被创建,并有某个引用指向它,这个对象的状态就切换到了应用阶段

## 2应用阶段In Use

对象至少被一个强引用持有并且对象在作用域内

## 3不可见阶段Invisible

程序本身不再持有该对象的任何强引用,但是这些引用可能还存在着

一般具体是指程序的执行已经超过该对象的作用域了

## 4不可达阶段Unreachable

该对象不再被任何强引用所持有

可能仍被JVM等系统下的某些已经状态的惊天变灵或者线程或JNI所持有,这些特殊的强引用被称为GC ROOT,这种情况容易导致内存泄漏

## 5收集阶段Collected

对象不可达,并且GC已经准备好对该对象占用的内存空间重新分配的时候,处于收集阶段

如果重写了finalize方法,则会去执行该方法

```txt
尽量不要重写finalize方法,因为有可能影响JVM的对象分配与回收速度或者可能造成该对象的再次复活
```

## 6终结阶段

当对象执行完finalize方法之后,仍然处于不可达状态,则该对象进入终结阶段

在这个阶段,内存空间等待GC进行回收

## 7对象空间的重新分配

GC对该对象战友的内存空间进行回收或者再分配,该对象彻底消失

